# lua-getch

This library contains some C functions and Lua functions for handling
terminal user input.

Specifically, it provides function for changing terminal parameters
to enable raw, non-blocking input using the C functions from termios and
fctnl.

It also contains some utillity functions for working with the terminal,
such as decoding the multi-byte sequences generated by terminals on
some keypresses, among other things(this approximates ncurses
`keypad(win, TRUE)` mode, but without requiring a dependency on ncurses).





# Installation

This library is packaged and build using Luarocks, which makes building
and installing easy.

Currently this library is not published on a luarocks server,
so you need to clone this repository and build it yourself:

```
git clone https://github.com/max1220/lua-getch
cd lua-getch
# install locally, usually to ~/.luarocks
luarocks make --local
```

This will install the module locally, typically in ~/.luarocks.

When installing locally you need to tell Lua where to look for modules
installed using Luarocks, e.g.:

```
luarocks path >> ~/.bashrc
```





# Usage

There is detailed usage information in the documentation(`doc/USAGE.md`).
There are some examples, including a simple snake game in `doc/examples/`.

A basic usage example:

```
#!/usr/bin/lua
local getch = require("lua-getch")
while true do
	local resolved, seq = getch.get_key_mbs(getch.get_char_cooked, getch.key_table)
	if resolved then
		print("special key:", resolved)
	else
		for k,v in ipairs(seq) do
			print("character", v)
		end
	end
end
```
